/*! html5-player - v1.4.1 - 2014-10-20 */
"use strict";!function(){if(!window.edge_authoring_mode){var a=document.createElement("style");a.type="text/css",a.innerHTML=".player-container > div { display: none; }",document.getElementsByTagName("head")[0].appendChild(a)}window.HtmlContentPlayer=function(a){function b(){if(Db.wrap('<div class="temp-wrapper"></div>'),Db.parent().append(window.HtmlContentPlayer.structure),ob=$("#player-base"),pb=$(".player-content"),pb.append(Db),ob.unwrap(),void 0!==Cb.data.stage.scaleToFit&&"none"!==Cb.data.stage.scaleToFit)return Db.hide(),void window.alert('Your stage has "Responsive Scaling" set, please disable that option in Edge Animate.');try{if(void 0!==Cb.data.stage.centerStage&&"none"!==Cb.data.stage.centerStage)return Db.hide(),void window.alert('Your stage has the "Center Stage" option set, please disable that option in Edge Animate.');if(void 0!==Cb.data.stage.centerStage&&"none"!==Cb.data.stage.centerStage)return Db.hide(),void window.alert('Your stage has the "Center Stage" option set, please disable that option in Edge Animate.')}catch(a){console.log("Edge stage not found")}window.setTimeout(c,0)}function c(){qb=$(".player-controls"),rb=$(".player-play-button"),sb=$(".player-mute-button"),ub=$(".player-time-slider .player-progress"),vb=$(".player-subtitles"),wb=$(".player-current-time"),yb=$(".player-vol-slider .player-thumb"),xb=$(".player-time-slider .player-thumb"),rb.on("click",w),sb.on("click",x),sb.on("mousedown",H),sb.on("keydown",I),yb.on("keydown",B),yb.on("mousedown",F),yb.on("touchstart",F),$(".player-fullscreen-button").on("click",P),$(".player-time-slider .player-track").on("mousedown",y),$(".player-time-slider .player-thumb").on("keydown",A),$(".player-time-slider .player-thumb").on("mousedown",E),$(".player-time-slider .player-thumb").on("touchstart",E),$(".player-vol-button").on("click",O),$(".player-vol-button").on("mousedown",G),$(".player-back-button").on("click",C),$(".player-next-button").on("click",D),$(".player-CC-button").on("click",N),$(".player-vol-slider .player-track").on("mousedown",z),$(".player-vol-slider .player-track").on("touchstart",z),$(document).on("mousemove",M),$(document).on("touchmove",M),$(document).on("mouseup",K),$(document).on("touchend",K),$(document).on("keyup",J),$(window).on("resize",S),nb.hidePrevButton&&$(".player-back-button").remove(),nb.hideNextButton&&$(".player-next-button").remove(),nb.hideVolButton&&$(".player-vol-button").remove(),nb.hideCCButton&&$(".player-CC-button").remove(),nb.hideFullScreenButton&&$(".player-fullscreen-button").remove(),zb=pb.height(),Ab=pb.width(),nb.audio?(cb(),v(.75),$(tb).on("timeupdate",e),$(tb).on("ended",l),navigator.vendor&&navigator.vendor.match(/Apple/i)&&navigator.userAgent.match(/Windows/i)&&(Qb=42),navigator.vendor&&navigator.vendor.match(/Apple/i)&&(db(),eb(),Jb=!0),navigator.userAgent.match(/Windows NT 6.0/i)&&navigator.userAgent.match(/MSIE 9.0/i)&&(Jb=!0)):nb.isAdobeEdge&&window.AdobeEdge&&(window.AdobeEdge.Symbol.bindTimelineAction(Cb.getComposition().getCompId(),"stage","Default Timeline","update",e),window.AdobeEdge.Symbol.bindTimelineAction(Cb.getComposition().getCompId(),"stage","Default Timeline","complete",l),$(".player-vol-button").remove()),(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i))&&($(".player-inner").addClass("ios"),$(".player-vol-button").remove()),navigator.userAgent.match(/Android/i)&&($(".player-inner").addClass("android"),$(".player-vol-button").remove()),xb.attr("aria-valuemin",0),xb.attr("aria-valuemax",nb.duration),yb.attr("aria-valuenow",75),nb.autoPlay&&w(),nb.mute&&x(),nb.showControls||($(".player-controls").hide(),pb.addClass("controls-hidden")),null!==nb.poster&&($(".player-poster").css("background-image","url("+nb.poster+")"),$(".player-poster").show()),nb.showTime&&wb.show(),nb.startTime&&i(nb.startTime),nb.fullScreen?Q():T(),$(".player-container").removeClass("player-container"),gb("playerDOMReady",null)}function d(){var a=fb();if(nb.audio){if(a>=nb.duration)return eb(),vb.html(""),void l();(Hb>Rb||-1===Hb)&&(Eb?(m(1e3*a),nb.triggerOnSync&&gb("played",null,1e3*a)):(n(1e3*a),nb.triggerOnSync&&gb("paused",null,1e3*a)),Hb=0),Hb+=1}ub.width(a/nb.duration*100+"%"),Nb&&vb.html(Bb.getSubtitle(a));var b=Math.floor(a/60)<10?""+Math.floor(a/60):Math.floor(a/60),c=Math.floor(a-60*b)<10?""+Math.floor(a-60*b):Math.floor(a-60*b);nb.showTime&&wb.text(bb(b,2)+":"+bb(c,2)),xb.attr("aria-valuenow",Math.floor(a)),xb.attr("aria-valuetext",b+" minutes "+c+" seconds")}function e(a){try{d(a)}catch(b){console.log("error during timeUpdated:",b)}}function f(a){Ib=!1,a>.99&&(eb(),vb.html(""),l()),0>=a&&(vb.html(""),a=.001),ub.width(100*a+"%"),Hb=Rb-2,nb.audio&&(tb.currentTime=Jb&&tb.duration&&!isNaN(tb.duration)?tb.duration*a:nb.duration*a),Eb?(m(nb.duration*a*1e3),gb("played",null,nb.duration*a*1e3)):(n(nb.duration*a*1e3),gb("paused",null,nb.duration*a*1e3)),nb.audio&&Jb&&tb.duration&&!isNaN(tb.duration)&&(Kb=1e3*tb.currentTime-Cb.getPosition())}function g(a){a?i(a):h()}function h(){Ib&&(k(),Ib=!1),Hb=-1,$(".player-poster").hide(),Eb=!0,nb.audio||m(),db(),gb("played",null,null),rb.addClass("paused"),rb.html("Pause")}function i(a){Eb=!0,f(a/1e3/nb.duration)}function j(){Eb=!1,eb(),n(),gb("paused",null,null),rb.removeClass("paused"),rb.html("Play")}function k(){f(0)}function l(a,b){b&&0===b.elapsed||(n(),gb("paused",null,null),rb.removeClass("paused"),Eb=!1,Ib=!0)}function m(a){nb.isAdobeEdge?o(a):Cb.play(a)}function n(a){nb.isAdobeEdge?p(a):Cb.stop(a)}function o(a,b,c){b=b||Cb,a=a||b.getPosition(),c?b.playReverse(a):b.play(a);var d=q(a,b);for(var e in d){var f=d[e].symbol,g=d[e].position,h=d[e].isReverse,i=a-g;h&&(i=f.getDuration()-i),o(i,f,h)}}function p(a,b){b=b||Cb,a=a||b.getPosition(),b.stop(a);var c=q(a,b);for(var d in c){var e=c[d].symbol,f=c[d].position,g=c[d].isReverse,h=a-f;g&&(h=e.getDuration()-h),p(h,e)}b.stopAll()}function q(a,b){for(var c={},d={},e={},f=s(b).sort(),g=0,h=f.length;h>g;g++){var i=f[g];if("trigger"===i[1]){var j=i[4];if(j){var k=j[0],l=j[1],m=b.getSymbol(l),n="playReverse"===k,o=i[2];if(n&&(d[l]=o),"play"===k||"playReverse"===k){var p=r(m,j[2]),q=o-p,t=q+m.getDuration();if(e[l]=q,a>o&&t>a)c[l]={symbol:m,position:q,isReverse:n};else if(o>=a){var v=n?m.getDuration():0;u(m,v)}else if(a>=t){var w=n?0:m.getDuration();u(m,w)}}if("stop"===k&&a>o){var x=e[l]||0;delete c[l];var y=r(m,j[2]),z=y>0?y:o-x;d[l]&&(z=m.getDuration()-o+d[l]),m.stop(z)}}}}return c}function r(a,b){if(b.length>0){if("string"==typeof b[0]){var c=t(a).labels;if(c)return c[b[0]]}return b[0]}return 0}function s(a){var b=a.data[a.name];return b.timeline?b.timeline.data:null}function t(a){return a.data[a.name].timeline}function u(a,b){a.stop(b);for(var c=a.getChildSymbols(),d=0;d<c.length;d++)u(c[d],b)}function v(a){0===a&&(a=.001),yb.attr("aria-valuenow",Math.round(100*a)),tb.volume=a;var b=$(".player-vol-slider .player-track").height(),c=b-b*a;$(".player-vol-slider .player-progress").css("top",c+"px")}function w(){Eb?j():h()}function x(){Fb?(v(Pb),$(".player-vol-button").removeClass("muted"),$(".player-vol-slider .player-track").css("opacity",1),yb.on("keydown",B).on("mousedown",F).on("touchstart",F).show(),sb.html("Mute").removeClass("muted")):(Pb=tb.volume,v(0),$(".player-vol-button").addClass("muted"),$(".player-vol-slider .player-track").css("opacity",.4),yb.off("keydown",B).off("mousedown",F).off("touchstart",F).hide(),sb.html("Un mute").addClass("muted")),Fb=!Fb}function y(a){if($(".player-poster").hide(),!Lb){Lb=!0;var b=a.offsetX?a.offsetX:a.originalEvent.layerX,c=b/$(".player-time-slider .player-track").width();f(c)}}function z(a){if(a.stopPropagation(),!Mb){Mb=!0;var b=ab(a),c=Y(b);v(1-c)}}function A(a){a.stopPropagation(),9===a.keyCode||a.shiftKey===!0&&9===a.keyCode||$(".player-poster").hide();var b,c=fb();switch(a.keyCode){case 13:w();break;case 33:b=Math.min(c/nb.duration+.1,1),f(b);break;case 34:b=Math.max(c/nb.duration-.1,0),f(b);break;case 39:b=Math.min(c+5,nb.duration),f(b/nb.duration);break;case 37:b=Math.max(c-5,0),f(b/nb.duration);break;case 38:a.stopPropagation(),a.preventDefault(),b=Math.min(c+5,nb.duration),f(b/nb.duration);break;case 40:a.stopPropagation(),a.preventDefault(),b=Math.max(c-5,0),f(b/nb.duration);break;case 36:Eb?$(".player-poster").hide():$(".player-poster").show(),f(0);break;case 35:f(1);break;case 32:w();break;case 49:f(.1);break;case 50:f(.2);break;case 51:f(.3);break;case 52:f(.4);break;case 53:f(.5);break;case 54:f(.6);break;case 55:f(.7);break;case 56:f(.8);break;case 57:f(.9);break;case 48:Eb?$(".player-poster").hide():$(".player-poster").show(),f(0)}}function B(a){9!==a.keyCode&&(a.stopPropagation(),a.preventDefault()),a.shiftKey===!0&&9===a.keyCode?$(".player-vol-button").focus():38===a.keyCode||39===a.keyCode?v(Math.min(tb.volume+.05,1)):40===a.keyCode||37===a.keyCode?v(Math.max(tb.volume-.05,0)):33===a.keyCode?v(Math.min(tb.volume+.1,1)):34===a.keyCode&&v(Math.max(tb.volume-.1,0))}function C(){Eb||$(".player-poster").show(),f(0)}function D(){$(".player-poster").hide(),f(1),l()}function E(){$(".player-poster").hide(),Lb=!0}function F(a){a.stopPropagation(),Mb=!0}function G(a){a.stopPropagation()}function H(a){a.stopPropagation()}function I(a){a.shiftKey===!0&&9===a.keyCode?(a.preventDefault(),a.stopPropagation(),$(".player-vol-slider .player-thumb").is(":visible")?$(".player-vol-slider .player-thumb").focus():$(".player-next-button").focus()):9===a.keyCode&&(a.stopPropagation(),$(".player-vol-button").focus())}function J(a){if(9===a.keyCode&&$(".player-all-controls button").addClass("accessible"),Ob){var b=!0;$(".vol-group").each(function(){document.activeElement===this&&(b=!1)}),b&&(Ob=!0,O(null))}}function K(){Lb=!1,Mb=!1}function L(){O(null)}function M(a){if(Lb){a.stopPropagation(),a.preventDefault();var b=_(a),c=Z(b);f(Math.min(c,1))}else if(Mb){a.stopPropagation(),a.preventDefault();var d=ab(a),c=Y(d);v(1-Math.max(0,Math.min(1,c)))}}function N(){Nb=!Nb,Nb?(vb.show(),$(".player-CC-button").addClass("on"),$(".player-CC-button").html("Turn off closed captioning")):(vb.hide(),$(".player-CC-button").removeClass("on"),$(".player-CC-button").html("Turn on closed captioning"))}function O(){Ob?($(".player-vol-slider").animate({bottom:"-170px"},400,"swing",function(){$(".player-vol-slider").hide()}),$(document).off("mousedown",L),$(".player-vol-button").html("Show volume controls")):($(".player-vol-slider").show(),$(".player-vol-slider").animate({bottom:"40px"},400,"swing"),$(document).on("mousedown",L),setTimeout(function(){Fb?$(".player-mute-button").focus():$(".player-vol-slider .player-thumb").focus()},400),$(".player-vol-button").html("Hide volume controls")),Ob=!Ob}function P(){Gb?R():Q()}function Q(){var a=document.activeElement===$(".player-fullscreen-button")[0];vb.hide(),ob.addClass("no-shadow"),$(".player-inner").appendTo("body"),$(".player-inner").addClass("fullscreen"),ob.css("opacity",0),$(".player-fullscreen-button").addClass("on"),$(".player-fullscreen-button").html("Restore from full screen"),Nb&&(vb.addClass("fullscreen"),vb.show()),Gb=!0,T(),a&&$(".player-fullscreen-button").focus(),gb("maximizeComplete",null,null)}function R(){var a=document.activeElement===$(".player-fullscreen-button")[0];vb.hide(),$(".player-fullscreen-button").removeClass("on"),$(".player-fullscreen-button").html("Go to full screen"),$(".player-inner").appendTo("#player-base"),$(".player-inner").removeClass("fullscreen"),ob.removeClass("no-shadow"),ob.css("opacity",1),vb.removeClass("fullscreen"),Nb&&vb.show(),Gb=!1,T(),a&&$(".player-fullscreen-button").focus(),gb("restoreComplete",null,null)}function S(){T()}function T(){var a,b,c,d,e,f=$(window).innerWidth(),g=$(window).innerHeight();Gb?(a=Math.min(f),b=Math.min(g+6-qb.height()),c=a/Ab,d=b/zb,e=Math.min(c,d)+.005,X(pb,e),pb.css("width",""),$(".player-inner").css("width","")):(a=Math.min(f+2,Ab),b=Math.min(g+6-qb.height(),zb),c=a/Ab,d=b/zb,e=Math.min(c,d),X(pb,e),pb.height(zb*e),pb.width(Ab*c),$(".player-inner").width(Ab*c),1>c?$(".player-fullscreen-button").hide():$(".player-fullscreen-button").show()),Ab>f?(pb.css("margin-left",(f-Ab*e)/2),pb.css("margin-right",-(f-Ab*e)/2)):(pb.css("margin-left",($(".player-inner").width()-Ab*e)/2),pb.css("margin-right",-($(".player-inner").width()-Ab*e)/2)),U()}function U(){var a=0;$(".player-controls > button").filter(":visible").each(function(){a+=$(this).outerWidth(!0)}),$(".player-time-slider").width($(".player-inner").innerWidth()-a-Qb)}function V(a,b){a.css("-webkit-transform",b),a.css("-moz-transform",b),a.css("-o-transform",b),a.css("transform",b),a.css("-ms-transform",b)}function W(a,b){a.css("-webkit-transform-origin",b),a.css("-moz-transform-origin",b),a.css("-o-transform-origin",b),a.css("transform-origin",b),a.css("-ms-transform-origin",b)}function X(a,b,c){var d="scale("+b+", "+b+")",e=c||"top left";V(a,d),W(a,e)}function Y(a){var b=(ob.offset().top,$(".player-vol-slider .player-track").offset().top),c=a-b,d=$(".player-vol-slider .player-track").height(),e=c/d;return e}function Z(a){var b=(ob.offset().left,$(".player-time-slider .player-track").offset().left),c=a-b,d=$(".player-time-slider .player-track").width(),e=c/d;return e}function _(a){return a.originalEvent.touches&&a.originalEvent.touches[0].pageX?a.originalEvent.touches[0].pageX:a.clientX?a.clientX:a.originalEvent.layerX?a.originalEvent.layerX:0}function ab(a){return a.originalEvent.touches&&a.originalEvent.touches[0].pageY?a.originalEvent.touches[0].pageY:a.pageY?a.pageY:a.clientY?a.clientY:a.originalEvent.layerY?a.originalEvent.layerY:0}function bb(a,b,c){return c=c||"0",a+="",a.length>=b?a:new Array(b-a.length+1).join(c)+a}function cb(){tb=new Audio,tb.preload="auto";for(var a=0;a<nb.audio.length;a++){var b=nb.audio[a];if(-1!==b.indexOf(".ogg")){if(tb.canPlayType("audio/ogg;")){tb.src=b;break}}else if(-1!==b.indexOf(".mp3")&&tb.canPlayType("audio/mpeg;")){tb.src=b;break}}}function db(){nb.audio&&tb.play()}function eb(){nb.audio&&tb.pause()}function fb(){return nb.audio?(1e3*tb.currentTime-Kb)/1e3:Cb.getPosition()/1e3}function gb(a,b){$("#player-base").trigger(a,b)}function hb(a,b,c){$("#player-base").on(a,b,c)}function ib(a,b,c){$("#player-base").off(a,b,c)}function jb(a,b,c){$("#player-base").one(a,b,c)}function kb(a,b,c){$("#player-base").bind(a,b,c)}function lb(a,b,c){$("#player-base").unbind(a,b,c)}if(window.edge_authoring_mode)return void $(".player-container").removeClass("player-container");var mb={animation:null,duration:null,audio:null,elem:null,srt:null,poster:null,autoPlay:!1,mute:!1,showControls:!0,showTime:!1,triggerOnSync:!0,startTime:null,hidePrevButton:!1,hideNextButton:!1,hideVolButton:!1,hideCCButton:!1,hideFullScreenButton:!1,fullScreen:!1,isAdobeEdge:!0},nb=$.extend({},mb,a);if(!nb.duration)throw': Please set the htmlcontentplayer\'s "duration" property manually to the length of the audio track or animation (in seconds)';if(!nb.animation)throw": Please set the htmlcontentplayer's \"animation\" property to the animation's stage";var ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb=nb.animation,Db=Cb.getSymbolElement()||$(nb.elem)||$("#Stage"),Eb=!1,Fb=!1,Gb=!1,Hb=0,Ib=!1,Jb=!1,Kb=0,Lb=!1,Mb=!1,Nb=!1,Ob=!1,Pb=.75,Qb=0,Rb=20;nb.srt&&(Bb=new window.Subtitles(nb.srt)),b(),this.on=hb,this.off=ib,this.one=jb,this.bind=kb,this.unbind=lb,this.playButtonClicked=w,this.play=g,this.stop=j,this.windowResized=S}}(),window.HtmlContentPlayer.structure='<div id="player-base"><div class="player-inner"><div class="player-content"><div class="player-alert"></div></div><div class="player-poster"></div><div class="player-subtitles"></div><div class="player-current-time"></div><div class="player-all-controls" lang="en"><div class="player-vol-slider"><div class="player-track" ><div class="player-progress"><button class="player-thumb vol-group can-hover" role="slider" aria-orientation="vertical" aria-label="Volume" aria-valuemin="0" aria-valuemax="100" /></div></div><button class="player-mute-button vol-group" >Mute</button></div><div class="player-controls"><button class="player-play-button" >Play</button><button type="button" class="player-back-button" >Player Start</button><div class="player-time-slider"><div class="player-track"><div class="player-progress"><button class="player-thumb" role="slider" aria-label="Time progress" value="Time progress"/></div></div></div><button class="player-next-button" >Player End</button><button class="player-vol-button vol-group" >Show volume controls</button><button class="player-CC-button" >Turn on closed captioning</button><button class="player-fullscreen-button" >Go to full screen</button></div></div></div></div>',function(){window.Subtitles=function(a){function b(a){if(a>i&&h>a)return j;for(var b=g.data.length-1;b>=0;b--)if(a>=g.data[b].subtitle.start&&a<=g.data[b].subtitle.end)return i=g.data[b].subtitle.start,h=g.data[b].subtitle.end,j=g.data[b].subtitle.text,g.data[b].subtitle.text}function c(a){var b,c,g,h,i,j={title:"",remote:"",data:[]},k=[],l=0,m=0;for(b=a.text.split(/(?:\r\n|\r|\n)/gm),h=f(b)+1,l=0;h>l;l++){for(i={},g=[],i.id=parseInt(b[l++],10),c=b[l++].split(/[\t ]*-->[\t ]*/),i.start=e(c[0]),m=c[1].indexOf(" "),-1!==m&&(c[1]=c[1].substr(0,m)),i.end=e(c[1]);h>l&&b[l];)g.push(b[l++]);i.text=g.join("\\N").replace(/\{(\\[\w]+\(?([\w\d]+,?)+\)?)+\}/gi,""),i.text=i.text.replace(/</g,"&lt;").replace(/>/g,"&gt;"),i.text=i.text.replace(/&lt;(\/?(font|b|u|i|s))((\s+(\w|\w[\w\-]*\w)(\s*=\s*(?:\".*?\"|'.*?'|[^'\">\s]+))?)+\s*|\s*)(\/?)&gt;/gi,"<$1$3$7>"),i.text=i.text.replace(/\\N/gi,"<br />"),k.push(d("subtitle",i))}return j.data=k,j}function d(a,b){var c={};return c[a]=b,c}function e(a){var b=a.split(":");try{var c=b[2].split(",");return 1===c.length&&(c=b[2].split(".")),3600*parseFloat(b[0],10)+60*parseFloat(b[1],10)+parseFloat(c[0],10)+parseFloat(c[1],10)/1e3}catch(d){return 0}}function f(a){for(var b=a.length-1;b>=0&&!a[b];)b--;return b}var g,h=0,i=0,j="";$.get(a,function(a){g=c({text:a})}),this.getSubtitle=b}}();