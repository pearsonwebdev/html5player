/*! html5-player - v1.3.0 - 2014-09-09 */
"use strict";!function(){var a=document.getElementsByTagName("script"),b=a[a.length-1].src;b=b.replace(/[^\/]*$/,""),window.HtmlContentPlayer=function(a){function c(){$.get(b+"html-content-player-structure.html",function(a){return Cb.wrap('<div class="temp-wrapper"></div>'),Cb.parent().append(a),void 0!==Bb.options.data.scaleToFit&&"none"!==Bb.options.data.scaleToFit?(Cb.hide(),$("#player-base").addClass("no-spin"),void $(".player-alert").html('Your stage has "Responsive Scaling" set, please disable that option in Edge Animate.').show()):void 0!==Bb.options.data.centerStage&&"none"!==Bb.options.data.centerStage?(Cb.hide(),$("#player-base").addClass("no-spin"),void $(".player-alert").html('Your stage has the "Center Stage" option set, please disable that option in Edge Animate.').show()):(d(),void fb("playerDOMReady",null))})}function d(){nb=$("#player-base"),ob=$(".player-content"),pb=$(".player-controls"),qb=$(".player-play-button"),rb=$(".player-mute-button"),tb=$(".player-time-slider .player-progress"),ub=$(".player-subtitles"),vb=$(".player-current-time"),xb=$(".player-vol-slider .player-thumb"),wb=$(".player-time-slider .player-thumb"),qb.on("click",v),rb.on("click",w),rb.on("mousedown",G),rb.on("keydown",H),xb.on("keydown",A),xb.on("mousedown",E),xb.on("touchstart",E),$(".player-fullscreen-button").on("click",O),$(".player-time-slider .player-track").on("mousedown",x),$(".player-time-slider .player-thumb").on("keydown",z),$(".player-time-slider .player-thumb").on("mousedown",D),$(".player-time-slider .player-thumb").on("touchstart",D),$(".player-vol-button").on("click",N),$(".player-vol-button").on("mousedown",F),$(".player-back-button").on("click",B),$(".player-next-button").on("click",C),$(".player-CC-button").on("click",M),$(".player-vol-slider .player-track").on("mousedown",y),$(".player-vol-slider .player-track").on("touchstart",y),$(document).on("mousemove",L),$(document).on("touchmove",L),$(document).on("mouseup",J),$(document).on("touchend",J),$(document).on("keyup",I),$(window).on("resize",R),mb.hidePrevButton&&$(".player-back-button").remove(),mb.hideNextButton&&$(".player-next-button").remove(),mb.hideVolButton&&$(".player-vol-button").remove(),mb.hideCCButton&&$(".player-CC-button").remove(),mb.hideFullScreenButton&&$(".player-fullscreen-button").remove(),ob.append(Cb),nb.unwrap(),yb=ob.height(),zb=ob.width(),mb.audio?(bb(),u(.75),$(sb).on("timeupdate",f),$(sb).on("ended",m),navigator.vendor&&navigator.vendor.match(/Apple/i)&&navigator.userAgent.match(/Windows/i)&&(Pb=42),navigator.vendor&&navigator.vendor.match(/Apple/i)&&Number(navigator.userAgent.match(/Version\/(\d)\..*/)[1])<7&&(console.log("ios6"),cb(),db(),Ib=!0),navigator.userAgent.match(/Windows NT 6.0/i)&&navigator.userAgent.match(/MSIE 9.0/i)&&(Ib=!0)):mb.isAdobeEdge&&window.AdobeEdge&&(window.AdobeEdge.Symbol.bindTimelineAction(Bb.getComposition().compId,"stage","Default Timeline","update",f),window.AdobeEdge.Symbol.bindTimelineAction(Bb.getComposition().compId,"stage","Default Timeline","complete",m),$(".player-vol-button").remove()),(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i))&&($(".player-inner").addClass("ios"),$(".player-vol-button").remove()),navigator.userAgent.match(/Android/i)&&($(".player-inner").addClass("android"),$(".player-vol-button").remove()),wb.attr("aria-valuemin",0),wb.attr("aria-valuemax",mb.duration),xb.attr("aria-valuenow",75),mb.fullScreen||S(),mb.autoPlay&&v(),mb.mute&&w(),mb.showControls||($(".player-controls").hide(),ob.addClass("controls-hidden")),null!==mb.poster&&($(".player-poster").css("background-image","url("+mb.poster+")"),$(".player-poster").show()),mb.showTime&&vb.show(),mb.startTime&&j(mb.startTime),mb.fullScreen&&(P(),R()),$(".player-container").removeClass("player-container")}function e(){var a=eb();if(mb.audio){if(a>=mb.duration)return db(),ub.html(""),void m();(Gb>40||-1===Gb)&&(Db?(n(1e3*a),mb.triggerOnSync&&fb("played",null,1e3*a)):(o(1e3*a),mb.triggerOnSync&&fb("paused",null,1e3*a)),Gb=0),Gb+=1}tb.width(a/mb.duration*100+"%"),Mb&&ub.html(Ab.getSubtitle(a));var b=Math.floor(a/60)<10?""+Math.floor(a/60):Math.floor(a/60),c=Math.floor(a-60*b)<10?""+Math.floor(a-60*b):Math.floor(a-60*b);mb.showTime&&vb.text(ab(b,2)+":"+ab(c,2)),wb.attr("aria-valuenow",Math.floor(a)),wb.attr("aria-valuetext",b+" minutes "+c+" seconds")}function f(a){try{e(a)}catch(b){console.log("error during timeUpdated:",b)}}function g(a){Hb=!1,a>.99&&(db(),ub.html(""),m()),0>=a&&(ub.html(""),a=.001),tb.width(100*a+"%"),mb.audio&&(sb.currentTime=Ib&&sb.duration&&!isNaN(sb.duration)?sb.duration*a:mb.duration*a),Db?(n(mb.duration*a*1e3),fb("played",null,mb.duration*a*1e3)):(o(mb.duration*a*1e3),fb("paused",null,mb.duration*a*1e3)),mb.audio&&Ib&&sb.duration&&!isNaN(sb.duration)&&(Jb=1e3*sb.currentTime-Bb.getPosition())}function h(a){a?j(a):i()}function i(){Hb&&(l(),Hb=!1),Gb=-1,$(".player-poster").hide(),Db=!0,mb.audio||n(),cb(),fb("played",null,null),qb.addClass("paused"),qb.html("Pause")}function j(a){Db=!0,g(a/1e3/mb.duration)}function k(){Db=!1,db(),o(),fb("paused",null,null),qb.removeClass("paused"),qb.html("Play")}function l(){g(0)}function m(a,b){b&&0===b.elapsed||(o(),fb("paused",null,null),qb.removeClass("paused"),Db=!1,Hb=!0)}function n(a){mb.isAdobeEdge?p(a):Bb.play(a)}function o(a){mb.isAdobeEdge?q(a):Bb.stop(a)}function p(a,b,c){b=b||Bb,a=a||b.getPosition(),c?b.playReverse(a):b.play(a);var d=r(a,b);for(var e in d){var f=d[e].symbol,g=d[e].position,h=d[e].isReverse,i=a-g;h&&(i=f.getDuration()-i),p(i,f,h)}}function q(a,b){b=b||Bb,a=a||b.getPosition(),b.stop(a);var c=r(a,b);for(var d in c){var e=c[d].symbol,f=c[d].position,g=c[d].isReverse,h=a-f;g&&(h=e.getDuration()-h),q(h,e)}b.stopAll()}function r(a,b){for(var c={},d={},e={},f=b.timelines["Default Timeline"].timeline.sort(),g=0,h=f.length;h>g;g++){var i=f[g];if(i.trigger){var j=i.trigger[1],k=j[0],l=j[1],m=b.getSymbol(l),n="playReverse"===k;if(n&&(d[l]=i.position),"play"===k||"playReverse"===k){var o=s(m,j[2]),p=i.position-o,q=p+m.getDuration();if(e[l]=p,a>i.position&&q>a)c[l]={symbol:m,position:p,isReverse:n};else if(a<=i.position){var r=n?m.getDuration():0;m.seek(r),t(m,r)}else if(a>=q){var u=n?0:m.getDuration();m.seek(u),t(m,u)}}if("stop"===k&&a>i.position){var v=e[l]||0;delete c[l];var w=s(m,j[2]),x=w>0?w:i.position-v;d[l]&&(x=m.getDuration()-i.position+d[l]),m.seek(x)}}}return c}function s(a,b){if(b.length>0){if("string"==typeof b[0]){var c=a.getTimelineData("Default Timeline").labels;if(c)return c[b[0]]}return b[0]}return 0}function t(a,b){a.stop(b);for(var c=a.getChildSymbols(),d=0;d<c.length;d++)t(c[d],b)}function u(a){0===a&&(a=.001),xb.attr("aria-valuenow",Math.round(100*a)),sb.volume=a;var b=$(".player-vol-slider .player-track").height(),c=b-b*a;$(".player-vol-slider .player-progress").css("top",c+"px")}function v(){Db?k():i()}function w(){Eb?(u(Ob),$(".player-vol-button").removeClass("muted"),$(".player-vol-slider .player-track").css("opacity",1),xb.on("keydown",A).on("mousedown",E).on("touchstart",E).show(),rb.html("Mute").removeClass("muted")):(Ob=sb.volume,u(0),$(".player-vol-button").addClass("muted"),$(".player-vol-slider .player-track").css("opacity",.4),xb.off("keydown",A).off("mousedown",E).off("touchstart",E).hide(),rb.html("Un mute").addClass("muted")),Eb=!Eb}function x(a){if($(".player-poster").hide(),!Kb){Kb=!0;var b=a.offsetX?a.offsetX:a.originalEvent.layerX,c=b/$(".player-time-slider .player-track").width();g(c)}}function y(a){if(a.stopPropagation(),!Lb){Lb=!0;var b=_(a),c=X(b);u(1-c)}}function z(a){a.stopPropagation(),9===a.keyCode||a.shiftKey===!0&&9===a.keyCode||$(".player-poster").hide();var b,c=eb();switch(a.keyCode){case 13:v();break;case 33:b=Math.min(c/mb.duration+.1,1),g(b);break;case 34:b=Math.max(c/mb.duration-.1,0),g(b);break;case 39:b=Math.min(c+5,mb.duration),g(b/mb.duration);break;case 37:b=Math.max(c-5,0),g(b/mb.duration);break;case 38:a.stopPropagation(),a.preventDefault(),b=Math.min(c+5,mb.duration),g(b/mb.duration);break;case 40:a.stopPropagation(),a.preventDefault(),b=Math.max(c-5,0),g(b/mb.duration);break;case 36:Db?$(".player-poster").hide():$(".player-poster").show(),g(0);break;case 35:g(1);break;case 32:v();break;case 49:g(.1);break;case 50:g(.2);break;case 51:g(.3);break;case 52:g(.4);break;case 53:g(.5);break;case 54:g(.6);break;case 55:g(.7);break;case 56:g(.8);break;case 57:g(.9);break;case 48:Db?$(".player-poster").hide():$(".player-poster").show(),g(0)}}function A(a){9!==a.keyCode&&(a.stopPropagation(),a.preventDefault()),a.shiftKey===!0&&9===a.keyCode?$(".player-vol-button").focus():38===a.keyCode||39===a.keyCode?u(Math.min(sb.volume+.05,1)):40===a.keyCode||37===a.keyCode?u(Math.max(sb.volume-.05,0)):33===a.keyCode?u(Math.min(sb.volume+.1,1)):34===a.keyCode&&u(Math.max(sb.volume-.1,0))}function B(){Db||$(".player-poster").show(),g(0)}function C(){$(".player-poster").hide(),g(1),m()}function D(){$(".player-poster").hide(),Kb=!0}function E(a){a.stopPropagation(),Lb=!0}function F(a){a.stopPropagation()}function G(a){a.stopPropagation()}function H(a){a.shiftKey===!0&&9===a.keyCode?(a.preventDefault(),a.stopPropagation(),$(".player-vol-slider .player-thumb").is(":visible")?$(".player-vol-slider .player-thumb").focus():$(".player-next-button").focus()):9===a.keyCode&&(a.stopPropagation(),$(".player-vol-button").focus())}function I(a){if(9===a.keyCode&&$(".player-all-controls button").addClass("accessible"),Nb){var b=!0;$(".vol-group").each(function(){document.activeElement===this&&(b=!1)}),b&&(Nb=!0,N(null))}}function J(){Kb=!1,Lb=!1}function K(){N(null)}function L(a){if(Kb){a.stopPropagation(),a.preventDefault();var b=Z(a),c=Y(b);g(Math.min(c,1))}else if(Lb){a.stopPropagation(),a.preventDefault();var d=_(a),c=X(d);u(1-Math.max(0,Math.min(1,c)))}}function M(){Mb=!Mb,Mb?(ub.show(),$(".player-CC-button").addClass("on"),$(".player-CC-button").html("Turn off closed captioning")):(ub.hide(),$(".player-CC-button").removeClass("on"),$(".player-CC-button").html("Turn on closed captioning"))}function N(){Nb?($(".player-vol-slider").animate({bottom:"-170px"},400,"swing",function(){$(".player-vol-slider").hide()}),$(document).off("mousedown",K),$(".player-vol-button").html("Show volume controls")):($(".player-vol-slider").show(),$(".player-vol-slider").animate({bottom:"40px"},400,"swing"),$(document).on("mousedown",K),setTimeout(function(){Eb?$(".player-mute-button").focus():$(".player-vol-slider .player-thumb").focus()},400),$(".player-vol-button").html("Hide volume controls")),Nb=!Nb}function O(){Fb?Q():P()}function P(){var a=document.activeElement===$(".player-fullscreen-button")[0];ub.hide();var b=$(window).width(),c=$(window).height()-$(".player-controls").height(),d=Math.min(b/Cb.width(),c/Cb.height());nb.addClass("no-shadow"),$(".player-inner").appendTo("body"),$(".player-inner").addClass("fullscreen"),nb.css("opacity",0),$(".player-fullscreen-button").addClass("on"),$(".player-fullscreen-button").html("Restore from full screen"),Mb&&(ub.addClass("fullscreen"),ub.show()),W(Cb,d),Cb.css("left",(b-Cb.width()*d)/2),T(),a&&$(".player-fullscreen-button").focus(),Fb=!0,fb("maximizeComplete",null,null)}function Q(){var a=document.activeElement===$(".player-fullscreen-button")[0];ub.hide(),$(".player-fullscreen-button").removeClass("on"),$(".player-fullscreen-button").html("Go to full screen"),$(".player-inner").appendTo("#player-base"),$(".player-inner").removeClass("fullscreen"),nb.removeClass("no-shadow"),nb.css("opacity",1),Cb.css("left",0);var b=Cb.width()/ob.width();W(Cb,b),ub.removeClass("fullscreen"),Mb&&ub.show(),T(),Fb=!1,S(),a&&$(".player-fullscreen-button").focus(),fb("restoreComplete",null,null)}function R(){if(Fb){var a=$(window).width(),b=$(window).height()-$(".player-controls").height(),c=Math.min(a/Cb.width(),b/Cb.height())+.005;W(Cb,c),Cb.css("left",(a-Cb.width()*c)/2),T(),fb("windowResized",null,{stageWidth:Cb.width()*c,stageHeight:Cb.height()*c,controlsWidth:pb.width(),controlsHeight:pb.height()})}else S()}function S(){if(!Fb){var a=$(window).innerWidth(),b=$(window).innerHeight(),c=Math.min(a+2,zb),d=Math.min(b+6-$(".player-controls").height(),yb),e=c/zb,f=d/yb,g=Math.min(e,f);W(ob,g),ob.height(yb*g),ob.width(zb*e),zb>a?(ob.css("margin-left",(a-zb*g)/2),ob.css("margin-right",-(a-zb*g)/2)):1>g?(ob.css("margin-left",(nb.width()-zb*g)/2),ob.css("margin-right",-(nb.width()-zb*g)/2)):(ob.css("margin-left",0),ob.css("margin-right",0)),1>e?$(".player-fullscreen-button").hide():$(".player-fullscreen-button").show(),T()}}function T(){var a=0;$(".player-controls > button").filter(":visible").each(function(){a+=$(this).outerWidth(!0)}),$(".player-time-slider").width($(".player-inner").innerWidth()-a-Pb)}function U(a,b){a.css("-webkit-transform",b),a.css("-moz-transform",b),a.css("-o-transform",b),a.css("transform",b),a.css("-ms-transform",b)}function V(a,b){a.css("-webkit-transform-origin",b),a.css("-moz-transform-origin",b),a.css("-o-transform-origin",b),a.css("transform-origin",b),a.css("-ms-transform-origin",b)}function W(a,b,c){var d="scale("+b+", "+b+")",e=c||"top left";U(a,d),V(a,e)}function X(a){var b=(nb.offset().top,$(".player-vol-slider .player-track").offset().top),c=a-b,d=$(".player-vol-slider .player-track").height(),e=c/d;return e}function Y(a){var b=(nb.offset().left,$(".player-time-slider .player-track").offset().left),c=a-b,d=$(".player-time-slider .player-track").width(),e=c/d;return e}function Z(a){return a.originalEvent.touches&&a.originalEvent.touches[0].pageX?a.originalEvent.touches[0].pageX:a.clientX?a.clientX:a.originalEvent.layerX?a.originalEvent.layerX:0}function _(a){return a.originalEvent.touches&&a.originalEvent.touches[0].pageY?a.originalEvent.touches[0].pageY:a.pageY?a.pageY:a.clientY?a.clientY:a.originalEvent.layerY?a.originalEvent.layerY:0}function ab(a,b,c){return c=c||"0",a+="",a.length>=b?a:new Array(b-a.length+1).join(c)+a}function bb(){sb=new Audio,sb.preload="auto";for(var a=0;a<mb.audio.length;a++){var b=mb.audio[a];if(-1!==b.indexOf(".ogg")){if(sb.canPlayType("audio/ogg;")){sb.src=b;break}}else if(-1!==b.indexOf(".mp3")&&sb.canPlayType("audio/mpeg;")){sb.src=b;break}}}function cb(){mb.audio&&sb.play()}function db(){mb.audio&&sb.pause()}function eb(){return mb.audio?(1e3*sb.currentTime-Jb)/1e3:Bb.getPosition()/1e3}function fb(a,b){$("#player-base").trigger(a,b)}function gb(a,b,c){$("#player-base").on(a,b,c)}function hb(a,b,c){$("#player-base").off(a,b,c)}function ib(a,b,c){$("#player-base").one(a,b,c)}function jb(a,b,c){$("#player-base").bind(a,b,c)}function kb(a,b,c){$("#player-base").unbind(a,b,c)}var lb={animation:null,duration:null,audio:null,elem:null,srt:null,poster:null,autoPlay:!1,mute:!1,showControls:!0,showTime:!1,triggerOnSync:!0,startTime:null,hidePrevButton:!1,hideNextButton:!1,hideVolButton:!1,hideCCButton:!1,hideFullScreenButton:!1,fullScreen:!1,isAdobeEdge:!0},mb=$.extend({},lb,a);if(!mb.duration)throw': Please set the htmlcontentplayer\'s "duration" property manually to the length of the audio track in seconds';if(!mb.animation)throw": Please set the htmlcontentplayer's \"animation\" property to the animation's stage";var nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb=mb.animation,Cb=Bb.getSymbolElement()||$(mb.elem)||$("#Stage"),Db=!1,Eb=!1,Fb=!1,Gb=0,Hb=!1,Ib=!1,Jb=0,Kb=!1,Lb=!1,Mb=!1,Nb=!1,Ob=.75,Pb=0;mb.srt&&(Ab=new window.Subtitles(mb.srt)),c(),this.on=gb,this.off=hb,this.one=ib,this.bind=jb,this.unbind=kb,this.playButtonClicked=v,this.play=h,this.stop=k,this.windowResized=R}}(),function(){window.Subtitles=function(a){function b(a){if(a>i&&h>a)return j;for(var b=g.data.length-1;b>=0;b--)if(a>=g.data[b].subtitle.start&&a<=g.data[b].subtitle.end)return i=g.data[b].subtitle.start,h=g.data[b].subtitle.end,j=g.data[b].subtitle.text,g.data[b].subtitle.text}function c(a){var b,c,g,h,i,j={title:"",remote:"",data:[]},k=[],l=0,m=0;for(b=a.text.split(/(?:\r\n|\r|\n)/gm),h=f(b)+1,l=0;h>l;l++){for(i={},g=[],i.id=parseInt(b[l++],10),c=b[l++].split(/[\t ]*-->[\t ]*/),i.start=e(c[0]),m=c[1].indexOf(" "),-1!==m&&(c[1]=c[1].substr(0,m)),i.end=e(c[1]);h>l&&b[l];)g.push(b[l++]);i.text=g.join("\\N").replace(/\{(\\[\w]+\(?([\w\d]+,?)+\)?)+\}/gi,""),i.text=i.text.replace(/</g,"&lt;").replace(/>/g,"&gt;"),i.text=i.text.replace(/&lt;(\/?(font|b|u|i|s))((\s+(\w|\w[\w\-]*\w)(\s*=\s*(?:\".*?\"|'.*?'|[^'\">\s]+))?)+\s*|\s*)(\/?)&gt;/gi,"<$1$3$7>"),i.text=i.text.replace(/\\N/gi,"<br />"),k.push(d("subtitle",i))}return j.data=k,j}function d(a,b){var c={};return c[a]=b,c}function e(a){var b=a.split(":");try{var c=b[2].split(",");return 1===c.length&&(c=b[2].split(".")),3600*parseFloat(b[0],10)+60*parseFloat(b[1],10)+parseFloat(c[0],10)+parseFloat(c[1],10)/1e3}catch(d){return 0}}function f(a){for(var b=a.length-1;b>=0&&!a[b];)b--;return b}var g,h=0,i=0,j="";$.get(a,function(a){g=c({text:a})}),this.getSubtitle=b}}();