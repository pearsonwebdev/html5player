/*! html5-player - v1.3.0 - 2014-09-02 */
"use strict";!function(a){var b=document.getElementsByTagName("script"),c=b[b.length-1].src;c=c.replace(/[^\/]*$/,""),window.HtmlContentPlayer=function(b){function d(){a.get(c+"html-content-player-structure.html",function(b){return Cb.wrap('<div class="temp-wrapper"></div>'),Cb.parent().append(b),void 0!==Bb.options.data.scaleToFit&&"none"!==Bb.options.data.scaleToFit?(Cb.hide(),a("#player-base").addClass("no-spin"),void a(".player-alert").html('Your stage has "Responsive Scaling" set, please disable that option in Edge Animate.').show()):void 0!==Bb.options.data.centerStage&&"none"!==Bb.options.data.centerStage?(Cb.hide(),a("#player-base").addClass("no-spin"),void a(".player-alert").html('Your stage has the "Center Stage" option set, please disable that option in Edge Animate.').show()):(e(),void fb("playerDOMReady",null))})}function e(){nb=a("#player-base"),ob=a(".player-content"),pb=a(".player-controls"),qb=a(".player-play-button"),rb=a(".player-mute-button"),tb=a(".player-time-slider .player-progress"),ub=a(".player-subtitles"),vb=a(".player-current-time"),xb=a(".player-vol-slider .player-thumb"),wb=a(".player-time-slider .player-thumb"),qb.on("click",w),rb.on("click",x),rb.on("mousedown",H),rb.on("keydown",I),xb.on("keydown",B),xb.on("mousedown",F),xb.on("touchstart",F),a(".player-fullscreen-button").on("click",P),a(".player-time-slider .player-track").on("mousedown",y),a(".player-time-slider .player-thumb").on("keydown",A),a(".player-time-slider .player-thumb").on("mousedown",E),a(".player-time-slider .player-thumb").on("touchstart",E),a(".player-vol-button").on("click",O),a(".player-vol-button").on("mousedown",G),a(".player-back-button").on("click",C),a(".player-next-button").on("click",D),a(".player-CC-button").on("click",N),a(".player-vol-slider .player-track").on("mousedown",z),a(".player-vol-slider .player-track").on("touchstart",z),a(document).on("mousemove",M),a(document).on("touchmove",M),a(document).on("mouseup",K),a(document).on("touchend",K),a(document).on("keyup",J),a(window).on("resize",S),mb.hidePrevButton&&a(".player-back-button").remove(),mb.hideNextButton&&a(".player-next-button").remove(),mb.hideVolButton&&a(".player-vol-button").remove(),mb.hideCCButton&&a(".player-CC-button").remove(),mb.hideFullScreenButton&&a(".player-fullscreen-button").remove(),ob.append(Cb),nb.unwrap(),yb=ob.height(),zb=ob.width(),mb.audio?(bb(),v(.75),a(sb).on("timeupdate",g),a(sb).on("ended",n),navigator.vendor&&navigator.vendor.match(/Apple/i)&&navigator.userAgent.match(/Windows/i)&&(Pb=42),navigator.vendor&&navigator.vendor.match(/Apple/i)&&(cb(),db(),Ib=!0),navigator.userAgent.match(/Windows NT 6.0/i)&&navigator.userAgent.match(/MSIE 9.0/i)&&(Ib=!0)):mb.isAdobeEdge&&window.AdobeEdge&&(window.AdobeEdge.Symbol.bindTimelineAction(Bb.getComposition().compId,"stage","Default Timeline","update",g),window.AdobeEdge.Symbol.bindTimelineAction(Bb.getComposition().compId,"stage","Default Timeline","complete",n),a(".player-vol-button").remove()),(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i))&&(a(".player-inner").addClass("ios"),a(".player-vol-button").remove()),navigator.userAgent.match(/Android/i)&&(a(".player-inner").addClass("android"),a(".player-vol-button").remove()),wb.attr("aria-valuemin",0),wb.attr("aria-valuemax",mb.duration),xb.attr("aria-valuenow",75),mb.fullScreen||T(),mb.autoPlay&&w(),mb.mute&&x(),mb.showControls||(a(".player-controls").hide(),ob.addClass("controls-hidden")),null!==mb.poster&&(a(".player-poster").css("background-image","url("+mb.poster+")"),a(".player-poster").show()),mb.showTime&&vb.show(),mb.startTime&&k(mb.startTime),mb.fullScreen&&(Q(),S()),a(".player-container").removeClass("player-container")}function f(){var a=eb();if(mb.audio){if(a>=mb.duration)return db(),ub.html(""),void n();Gb>40&&(Db?(o(1e3*a),mb.triggerOnSync&&fb("played",null,1e3*a)):(p(1e3*a),mb.triggerOnSync&&fb("paused",null,1e3*a)),Gb=0),Gb+=1}tb.width(a/mb.duration*100+"%"),Mb&&ub.html(Ab.getSubtitle(a));var b=Math.floor(a/60)<10?""+Math.floor(a/60):Math.floor(a/60),c=Math.floor(a-60*b)<10?""+Math.floor(a-60*b):Math.floor(a-60*b);mb.showTime&&vb.text(ab(b,2)+":"+ab(c,2)),wb.attr("aria-valuenow",Math.floor(a)),wb.attr("aria-valuetext",b+" minutes "+c+" seconds")}function g(a){try{f(a)}catch(b){console.log("error during timeUpdated:",b)}}function h(a){Hb=!1,a>.99&&(db(),ub.html(""),n()),0>=a&&(ub.html(""),a=.001),tb.width(100*a+"%"),mb.audio&&(sb.currentTime=Ib&&sb.duration&&!isNaN(sb.duration)?sb.duration*a:mb.duration*a),Db?(o(mb.duration*a*1e3),fb("played",null,mb.duration*a*1e3)):(p(mb.duration*a*1e3),fb("paused",null,mb.duration*a*1e3)),mb.audio&&Ib&&sb.duration&&!isNaN(sb.duration)&&(Jb=1e3*sb.currentTime-Bb.getPosition())}function i(a){a?k(a):j()}function j(){Hb&&(m(),Hb=!1),a(".player-poster").hide(),Db=!0,o(),cb(),fb("played",null,null),qb.addClass("paused"),qb.html("Pause")}function k(a){Db=!0,h(a/1e3/mb.duration)}function l(){Db=!1,db(),p(),fb("paused",null,null),qb.removeClass("paused"),qb.html("Play")}function m(){h(0)}function n(a,b){b&&0===b.elapsed||(p(),fb("paused",null,null),qb.removeClass("paused"),Db=!1,Hb=!0)}function o(a){mb.isAdobeEdge?q(a):Bb.play(a)}function p(a){mb.isAdobeEdge?r(a):Bb.stop(a)}function q(a,b,c){b=b||Bb,a=a||b.getPosition(),c?b.playReverse(a):b.play(a);var d=s(a,b);for(var e in d){var f=d[e].symbol,g=d[e].position,h=d[e].isReverse,i=a-g;h&&(i=f.getDuration()-i),q(i,f,h)}}function r(a,b){b=b||Bb,a=a||b.getPosition(),b.stop(a);var c=s(a,b);for(var d in c){var e=c[d].symbol,f=c[d].position,g=c[d].isReverse,h=a-f;g&&(h=e.getDuration()-h),r(h,e)}b.stopAll()}function s(a,b){for(var c={},d={},e={},f=b.timelines["Default Timeline"].timeline.sort(),g=0,h=f.length;h>g;g++){var i=f[g];if(i.trigger){var j=i.trigger[1],k=j[0],l=j[1],m=b.getSymbol(l),n="playReverse"===k;if(n&&(d[l]=i.position),"play"===k||"playReverse"===k){var o=t(m,j[2]),p=i.position-o,q=p+m.getDuration();if(e[l]=p,a>i.position&&q>a)c[l]={symbol:m,position:p,isReverse:n};else if(a<=i.position){var r=n?m.getDuration():0;m.seek(r),u(m,r)}else if(a>=q){var s=n?0:m.getDuration();m.seek(s),u(m,s)}}if("stop"===k&&a>i.position){var v=e[l]||0;delete c[l];var w=t(m,j[2]),x=w>0?w:i.position-v;d[l]&&(x=m.getDuration()-i.position+d[l]),m.seek(x)}}}return c}function t(a,b){if(b.length>0){if("string"==typeof b[0]){var c=a.getTimelineData("Default Timeline").labels;if(c)return c[b[0]]}return b[0]}return 0}function u(a,b){a.stop(b);for(var c=a.getChildSymbols(),d=0;d<c.length;d++)u(c[d],b)}function v(b){0===b&&(b=.001),xb.attr("aria-valuenow",Math.round(100*b)),sb.volume=b;var c=a(".player-vol-slider .player-track").height(),d=c-c*b;a(".player-vol-slider .player-progress").css("top",d+"px")}function w(){Db?l():j()}function x(){Eb?(v(Ob),a(".player-vol-button").removeClass("muted"),a(".player-vol-slider .player-track").css("opacity",1),xb.on("keydown",B).on("mousedown",F).on("touchstart",F).show(),rb.html("Mute").removeClass("muted")):(Ob=sb.volume,v(0),a(".player-vol-button").addClass("muted"),a(".player-vol-slider .player-track").css("opacity",.4),xb.off("keydown",B).off("mousedown",F).off("touchstart",F).hide(),rb.html("Un mute").addClass("muted")),Eb=!Eb}function y(b){if(a(".player-poster").hide(),!Kb){Kb=!0;var c=b.offsetX?b.offsetX:b.originalEvent.layerX,d=c/a(".player-time-slider .player-track").width();h(d)}}function z(a){if(a.stopPropagation(),!Lb){Lb=!0;var b=_(a),c=Y(b);v(1-c)}}function A(b){b.stopPropagation(),9===b.keyCode||b.shiftKey===!0&&9===b.keyCode||a(".player-poster").hide();var c,d=eb();switch(b.keyCode){case 13:w();break;case 33:c=Math.min(d/mb.duration+.1,1),h(c);break;case 34:c=Math.max(d/mb.duration-.1,0),h(c);break;case 39:c=Math.min(d+5,mb.duration),h(c/mb.duration);break;case 37:c=Math.max(d-5,0),h(c/mb.duration);break;case 38:b.stopPropagation(),b.preventDefault(),c=Math.min(d+5,mb.duration),h(c/mb.duration);break;case 40:b.stopPropagation(),b.preventDefault(),c=Math.max(d-5,0),h(c/mb.duration);break;case 36:Db?a(".player-poster").hide():a(".player-poster").show(),h(0);break;case 35:h(1);break;case 32:w();break;case 49:h(.1);break;case 50:h(.2);break;case 51:h(.3);break;case 52:h(.4);break;case 53:h(.5);break;case 54:h(.6);break;case 55:h(.7);break;case 56:h(.8);break;case 57:h(.9);break;case 48:Db?a(".player-poster").hide():a(".player-poster").show(),h(0)}}function B(b){9!==b.keyCode&&(b.stopPropagation(),b.preventDefault()),b.shiftKey===!0&&9===b.keyCode?a(".player-vol-button").focus():38===b.keyCode||39===b.keyCode?v(Math.min(sb.volume+.05,1)):40===b.keyCode||37===b.keyCode?v(Math.max(sb.volume-.05,0)):33===b.keyCode?v(Math.min(sb.volume+.1,1)):34===b.keyCode&&v(Math.max(sb.volume-.1,0))}function C(){Db||a(".player-poster").show(),h(0)}function D(){a(".player-poster").hide(),h(1),n()}function E(){a(".player-poster").hide(),Kb=!0}function F(a){a.stopPropagation(),Lb=!0}function G(a){a.stopPropagation()}function H(a){a.stopPropagation()}function I(b){b.shiftKey===!0&&9===b.keyCode?(b.preventDefault(),b.stopPropagation(),a(".player-vol-slider .player-thumb").is(":visible")?a(".player-vol-slider .player-thumb").focus():a(".player-next-button").focus()):9===b.keyCode&&(b.stopPropagation(),a(".player-vol-button").focus())}function J(b){if(9===b.keyCode&&a(".player-all-controls button").addClass("accessible"),Nb){var c=!0;a(".vol-group").each(function(){document.activeElement===this&&(c=!1)}),c&&(Nb=!0,O(null))}}function K(){Kb=!1,Lb=!1}function L(){O(null)}function M(a){if(Kb){a.stopPropagation(),a.preventDefault();var b=$(a),c=Z(b);h(Math.min(c,1))}else if(Lb){a.stopPropagation(),a.preventDefault();var d=_(a),c=Y(d);v(1-Math.max(0,Math.min(1,c)))}}function N(){Mb=!Mb,Mb?(ub.show(),a(".player-CC-button").addClass("on"),a(".player-CC-button").html("Turn off closed captioning")):(ub.hide(),a(".player-CC-button").removeClass("on"),a(".player-CC-button").html("Turn on closed captioning"))}function O(){Nb?(a(".player-vol-slider").animate({bottom:"-170px"},400,"swing",function(){a(".player-vol-slider").hide()}),a(document).off("mousedown",L),a(".player-vol-button").html("Show volume controls")):(a(".player-vol-slider").show(),a(".player-vol-slider").animate({bottom:"40px"},400,"swing"),a(document).on("mousedown",L),setTimeout(function(){Eb?a(".player-mute-button").focus():a(".player-vol-slider .player-thumb").focus()},400),a(".player-vol-button").html("Hide volume controls")),Nb=!Nb}function P(){Fb?R():Q()}function Q(){var b=document.activeElement===a(".player-fullscreen-button")[0];ub.hide();var c=a(window).width(),d=a(window).height()-a(".player-controls").height(),e=Math.min(c/Cb.width(),d/Cb.height());nb.addClass("no-shadow"),a(".player-inner").appendTo("body"),a(".player-inner").addClass("fullscreen"),nb.css("opacity",0),a(".player-fullscreen-button").addClass("on"),a(".player-fullscreen-button").html("Restore from full screen"),Mb&&(ub.addClass("fullscreen"),ub.show()),X(Cb,e),Cb.css("left",(c-Cb.width()*e)/2),U(),b&&a(".player-fullscreen-button").focus(),Fb=!0,fb("maximizeComplete",null,null)}function R(){var b=document.activeElement===a(".player-fullscreen-button")[0];ub.hide(),a(".player-fullscreen-button").removeClass("on"),a(".player-fullscreen-button").html("Go to full screen"),a(".player-inner").appendTo("#player-base"),a(".player-inner").removeClass("fullscreen"),nb.removeClass("no-shadow"),nb.css("opacity",1),Cb.css("left",0);var c=Cb.width()/ob.width();X(Cb,c),ub.removeClass("fullscreen"),Mb&&ub.show(),U(),Fb=!1,T(),b&&a(".player-fullscreen-button").focus(),fb("restoreComplete",null,null)}function S(){if(Fb){var b=a(window).width(),c=a(window).height()-a(".player-controls").height(),d=Math.min(b/Cb.width(),c/Cb.height());X(Cb,d),Cb.css("left",(b-Cb.width()*d)/2),U(),fb("windowResized",null,{stageWidth:Cb.width()*d,stageHeight:Cb.height()*d,controlsWidth:pb.width(),controlsHeight:pb.height()})}else T()}function T(){if(!Fb){var b=a(window).innerWidth(),c=a(window).innerHeight(),d=Math.min(b+2,zb),e=Math.min(c+6-a(".player-controls").height(),yb),f=d/zb,g=e/yb,h=Math.min(f,g);X(ob,h),ob.height(yb*h),ob.width(zb*f),zb>b?(ob.css("margin-left",(b-zb*h)/2),ob.css("margin-right",-(b-zb*h)/2)):1>h?(ob.css("margin-left",(nb.width()-zb*h)/2),ob.css("margin-right",-(nb.width()-zb*h)/2)):(ob.css("margin-left",0),ob.css("margin-right",0)),1>f?a(".player-fullscreen-button").hide():a(".player-fullscreen-button").show(),U()}}function U(){var b=0;a(".player-controls > button").filter(":visible").each(function(){b+=a(this).outerWidth(!0)}),a(".player-time-slider").width(a(".player-inner").innerWidth()-b-Pb)}function V(a,b){a.css("-webkit-transform",b),a.css("-moz-transform",b),a.css("-o-transform",b),a.css("transform",b),a.css("-ms-transform",b)}function W(a,b){a.css("-webkit-transform-origin",b),a.css("-moz-transform-origin",b),a.css("-o-transform-origin",b),a.css("transform-origin",b),a.css("-ms-transform-origin",b)}function X(a,b,c){var d="scale("+b+", "+b+")",e=c||"top left";V(a,d),W(a,e)}function Y(b){var c=(nb.offset().top,a(".player-vol-slider .player-track").offset().top),d=b-c,e=a(".player-vol-slider .player-track").height(),f=d/e;return f}function Z(b){var c=(nb.offset().left,a(".player-time-slider .player-track").offset().left),d=b-c,e=a(".player-time-slider .player-track").width(),f=d/e;return f}function $(a){return a.originalEvent.touches&&a.originalEvent.touches[0].pageX?a.originalEvent.touches[0].pageX:a.clientX?a.clientX:a.originalEvent.layerX?a.originalEvent.layerX:0}function _(a){return a.originalEvent.touches&&a.originalEvent.touches[0].pageY?a.originalEvent.touches[0].pageY:a.pageY?a.pageY:a.clientY?a.clientY:a.originalEvent.layerY?a.originalEvent.layerY:0}function ab(a,b,c){return c=c||"0",a+="",a.length>=b?a:new Array(b-a.length+1).join(c)+a}function bb(){sb=new Audio,sb.preload="auto";for(var a=0;a<mb.audio.length;a++){var b=mb.audio[a];if(-1!==b.indexOf(".ogg")){if(sb.canPlayType("audio/ogg;")){sb.src=b;break}}else if(-1!==b.indexOf(".mp3")&&sb.canPlayType("audio/mpeg;")){sb.src=b;break}}}function cb(){mb.audio&&sb.play()}function db(){mb.audio&&sb.pause()}function eb(){return mb.audio?(1e3*sb.currentTime-Jb)/1e3:Bb.getPosition()/1e3}function fb(b,c){a("#player-base").trigger(b,c)}function gb(b,c,d){a("#player-base").on(b,c,d)}function hb(b,c,d){a("#player-base").off(b,c,d)}function ib(b,c,d){a("#player-base").one(b,c,d)}function jb(b,c,d){a("#player-base").bind(b,c,d)}function kb(b,c,d){a("#player-base").unbind(b,c,d)}var lb={playableElement:null,duration:null,audio:null,elem:null,srt:null,poster:null,autoPlay:!1,mute:!1,showControls:!0,showTime:!1,triggerOnSync:!0,startTime:null,hidePrevButton:!1,hideNextButton:!1,hideVolButton:!1,hideCCButton:!1,hideFullScreenButton:!1,fullScreen:!1,isAdobeEdge:!0},mb=a.extend({},lb,b);if(!mb.duration)throw': Please set the htmlcontentplayer\'s "duration" property manually to the length of the audio track in seconds';if(!mb.playableElement)throw": Please set the htmlcontentplayer's \"playableElement\" property to the animation's stage";var nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb=mb.playableElement,Cb=Bb.getSymbolElement()||a(mb.elem)||a("#Stage"),Db=!1,Eb=!1,Fb=!1,Gb=0,Hb=!1,Ib=!1,Jb=0,Kb=!1,Lb=!1,Mb=!1,Nb=!1,Ob=.75,Pb=0;mb.srt&&(Ab=new window.Subtitles(mb.srt)),d(),this.on=gb,this.off=hb,this.one=ib,this.bind=jb,this.unbind=kb,this.playButtonClicked=w,this.play=i,this.stop=l,this.windowResized=S}}(jQuery),function(a){window.Subtitles=function(b){function c(a){if(a>j&&i>a)return k;for(var b=h.data.length-1;b>=0;b--)if(a>=h.data[b].subtitle.start&&a<=h.data[b].subtitle.end)return j=h.data[b].subtitle.start,i=h.data[b].subtitle.end,k=h.data[b].subtitle.text,h.data[b].subtitle.text}function d(a){var b,c,d,h,i,j={title:"",remote:"",data:[]},k=[],l=0,m=0;for(b=a.text.split(/(?:\r\n|\r|\n)/gm),h=g(b)+1,l=0;h>l;l++){for(i={},d=[],i.id=parseInt(b[l++],10),c=b[l++].split(/[\t ]*-->[\t ]*/),i.start=f(c[0]),m=c[1].indexOf(" "),-1!==m&&(c[1]=c[1].substr(0,m)),i.end=f(c[1]);h>l&&b[l];)d.push(b[l++]);i.text=d.join("\\N").replace(/\{(\\[\w]+\(?([\w\d]+,?)+\)?)+\}/gi,""),i.text=i.text.replace(/</g,"&lt;").replace(/>/g,"&gt;"),i.text=i.text.replace(/&lt;(\/?(font|b|u|i|s))((\s+(\w|\w[\w\-]*\w)(\s*=\s*(?:\".*?\"|'.*?'|[^'\">\s]+))?)+\s*|\s*)(\/?)&gt;/gi,"<$1$3$7>"),i.text=i.text.replace(/\\N/gi,"<br />"),k.push(e("subtitle",i))}return j.data=k,j}function e(a,b){var c={};return c[a]=b,c}function f(a){var b=a.split(":");try{var c=b[2].split(",");return 1===c.length&&(c=b[2].split(".")),3600*parseFloat(b[0],10)+60*parseFloat(b[1],10)+parseFloat(c[0],10)+parseFloat(c[1],10)/1e3}catch(d){return 0}}function g(a){for(var b=a.length-1;b>=0&&!a[b];)b--;return b}var h,i=0,j=0,k="";a.get(b,function(a){h=d({text:a})}),this.getSubtitle=c}}(jQuery);