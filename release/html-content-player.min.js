/*! html5-player - v1.3.0 - 2014-10-09 */
"use strict";!function(){var a=document.getElementsByTagName("script"),b=a[a.length-1].src;b=b.replace(/[^\/]*$/,""),window.HtmlContentPlayer=function(a){function b(){return Bb.wrap('<div class="temp-wrapper"></div>'),Bb.parent().append(window.HtmlContentPlayer.structure),mb=$("#player-base"),nb=$(".player-content"),nb.append(Bb),mb.unwrap(),void 0!==Ab.options.data.scaleToFit&&"none"!==Ab.options.data.scaleToFit?(Bb.hide(),$("#player-base").addClass("no-spin"),void $(".player-alert").html('Your stage has "Responsive Scaling" set, please disable that option in Edge Animate.').show()):void 0!==Ab.options.data.centerStage&&"none"!==Ab.options.data.centerStage?(Bb.hide(),$("#player-base").addClass("no-spin"),void $(".player-alert").html('Your stage has the "Center Stage" option set, please disable that option in Edge Animate.').show()):void window.setTimeout(c,0)}function c(){ob=$(".player-controls"),pb=$(".player-play-button"),qb=$(".player-mute-button"),sb=$(".player-time-slider .player-progress"),tb=$(".player-subtitles"),ub=$(".player-current-time"),wb=$(".player-vol-slider .player-thumb"),vb=$(".player-time-slider .player-thumb"),pb.on("click",u),qb.on("click",v),qb.on("mousedown",F),qb.on("keydown",G),wb.on("keydown",z),wb.on("mousedown",D),wb.on("touchstart",D),$(".player-fullscreen-button").on("click",N),$(".player-time-slider .player-track").on("mousedown",w),$(".player-time-slider .player-thumb").on("keydown",y),$(".player-time-slider .player-thumb").on("mousedown",C),$(".player-time-slider .player-thumb").on("touchstart",C),$(".player-vol-button").on("click",M),$(".player-vol-button").on("mousedown",E),$(".player-back-button").on("click",A),$(".player-next-button").on("click",B),$(".player-CC-button").on("click",L),$(".player-vol-slider .player-track").on("mousedown",x),$(".player-vol-slider .player-track").on("touchstart",x),$(document).on("mousemove",K),$(document).on("touchmove",K),$(document).on("mouseup",I),$(document).on("touchend",I),$(document).on("keyup",H),$(window).on("resize",Q),lb.hidePrevButton&&$(".player-back-button").remove(),lb.hideNextButton&&$(".player-next-button").remove(),lb.hideVolButton&&$(".player-vol-button").remove(),lb.hideCCButton&&$(".player-CC-button").remove(),lb.hideFullScreenButton&&$(".player-fullscreen-button").remove(),xb=nb.height(),yb=nb.width(),lb.audio?(ab(),t(.75),$(rb).on("timeupdate",e),$(rb).on("ended",l),navigator.vendor&&navigator.vendor.match(/Apple/i)&&navigator.userAgent.match(/Windows/i)&&(Ob=42),navigator.vendor&&navigator.vendor.match(/Apple/i)&&Number(navigator.userAgent.match(/Version\/(\d)\..*/)[1])<7&&(bb(),cb(),Hb=!0),navigator.userAgent.match(/Windows NT 6.0/i)&&navigator.userAgent.match(/MSIE 9.0/i)&&(Hb=!0)):lb.isAdobeEdge&&window.AdobeEdge&&(window.AdobeEdge.Symbol.bindTimelineAction(Ab.getComposition().compId,"stage","Default Timeline","update",e),window.AdobeEdge.Symbol.bindTimelineAction(Ab.getComposition().compId,"stage","Default Timeline","complete",l),$(".player-vol-button").remove()),(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i))&&($(".player-inner").addClass("ios"),$(".player-vol-button").remove()),navigator.userAgent.match(/Android/i)&&($(".player-inner").addClass("android"),$(".player-vol-button").remove()),vb.attr("aria-valuemin",0),vb.attr("aria-valuemax",lb.duration),wb.attr("aria-valuenow",75),lb.autoPlay&&u(),lb.mute&&v(),lb.showControls||($(".player-controls").hide(),nb.addClass("controls-hidden")),null!==lb.poster&&($(".player-poster").css("background-image","url("+lb.poster+")"),$(".player-poster").show()),lb.showTime&&ub.show(),lb.startTime&&i(lb.startTime),lb.fullScreen?O():R(),$(".player-container").removeClass("player-container"),eb("playerDOMReady",null)}function d(){var a=db();if(lb.audio){if(a>=lb.duration)return cb(),tb.html(""),void l();(Fb>Pb||-1===Fb)&&(Cb?(m(1e3*a),lb.triggerOnSync&&eb("played",null,1e3*a)):(n(1e3*a),lb.triggerOnSync&&eb("paused",null,1e3*a)),Fb=0),Fb+=1}sb.width(a/lb.duration*100+"%"),Lb&&tb.html(zb.getSubtitle(a));var b=Math.floor(a/60)<10?""+Math.floor(a/60):Math.floor(a/60),c=Math.floor(a-60*b)<10?""+Math.floor(a-60*b):Math.floor(a-60*b);lb.showTime&&ub.text(_(b,2)+":"+_(c,2)),vb.attr("aria-valuenow",Math.floor(a)),vb.attr("aria-valuetext",b+" minutes "+c+" seconds")}function e(a){try{d(a)}catch(b){console.log("error during timeUpdated:",b)}}function f(a){Gb=!1,a>.99&&(cb(),tb.html(""),l()),0>=a&&(tb.html(""),a=.001),sb.width(100*a+"%"),Fb=Pb-2,lb.audio&&(rb.currentTime=Hb&&rb.duration&&!isNaN(rb.duration)?rb.duration*a:lb.duration*a),Cb?(m(lb.duration*a*1e3),eb("played",null,lb.duration*a*1e3)):(n(lb.duration*a*1e3),eb("paused",null,lb.duration*a*1e3)),lb.audio&&Hb&&rb.duration&&!isNaN(rb.duration)&&(Ib=1e3*rb.currentTime-Ab.getPosition())}function g(a){a?i(a):h()}function h(){Gb&&(k(),Gb=!1),Fb=-1,$(".player-poster").hide(),Cb=!0,lb.audio||m(),bb(),eb("played",null,null),pb.addClass("paused"),pb.html("Pause")}function i(a){Cb=!0,f(a/1e3/lb.duration)}function j(){Cb=!1,cb(),n(),eb("paused",null,null),pb.removeClass("paused"),pb.html("Play")}function k(){f(0)}function l(a,b){b&&0===b.elapsed||(n(),eb("paused",null,null),pb.removeClass("paused"),Cb=!1,Gb=!0)}function m(a){lb.isAdobeEdge?o(a):Ab.play(a)}function n(a){lb.isAdobeEdge?p(a):Ab.stop(a)}function o(a,b,c){b=b||Ab,a=a||b.getPosition(),c?b.playReverse(a):b.play(a);var d=q(a,b);for(var e in d){var f=d[e].symbol,g=d[e].position,h=d[e].isReverse,i=a-g;h&&(i=f.getDuration()-i),o(i,f,h)}}function p(a,b){b=b||Ab,a=a||b.getPosition(),b.stop(a);var c=q(a,b);for(var d in c){var e=c[d].symbol,f=c[d].position,g=c[d].isReverse,h=a-f;g&&(h=e.getDuration()-h),p(h,e)}b.stopAll()}function q(a,b){for(var c={},d={},e={},f=b.timelines["Default Timeline"].timeline.sort(),g=0,h=f.length;h>g;g++){var i=f[g];if(i.trigger){var j=i.trigger[1],k=j[0],l=j[1],m=b.getSymbol(l),n="playReverse"===k;if(n&&(d[l]=i.position),"play"===k||"playReverse"===k){var o=r(m,j[2]),p=i.position-o,q=p+m.getDuration();if(e[l]=p,a>i.position&&q>a)c[l]={symbol:m,position:p,isReverse:n};else if(a<=i.position){var t=n?m.getDuration():0;m.seek(t),s(m,t)}else if(a>=q){var u=n?0:m.getDuration();m.seek(u),s(m,u)}}if("stop"===k&&a>i.position){var v=e[l]||0;delete c[l];var w=r(m,j[2]),x=w>0?w:i.position-v;d[l]&&(x=m.getDuration()-i.position+d[l]),m.seek(x)}}}return c}function r(a,b){if(b.length>0){if("string"==typeof b[0]){var c=a.getTimelineData("Default Timeline").labels;if(c)return c[b[0]]}return b[0]}return 0}function s(a,b){a.stop(b);for(var c=a.getChildSymbols(),d=0;d<c.length;d++)s(c[d],b)}function t(a){0===a&&(a=.001),wb.attr("aria-valuenow",Math.round(100*a)),rb.volume=a;var b=$(".player-vol-slider .player-track").height(),c=b-b*a;$(".player-vol-slider .player-progress").css("top",c+"px")}function u(){Cb?j():h()}function v(){Db?(t(Nb),$(".player-vol-button").removeClass("muted"),$(".player-vol-slider .player-track").css("opacity",1),wb.on("keydown",z).on("mousedown",D).on("touchstart",D).show(),qb.html("Mute").removeClass("muted")):(Nb=rb.volume,t(0),$(".player-vol-button").addClass("muted"),$(".player-vol-slider .player-track").css("opacity",.4),wb.off("keydown",z).off("mousedown",D).off("touchstart",D).hide(),qb.html("Un mute").addClass("muted")),Db=!Db}function w(a){if($(".player-poster").hide(),!Jb){Jb=!0;var b=a.offsetX?a.offsetX:a.originalEvent.layerX,c=b/$(".player-time-slider .player-track").width();f(c)}}function x(a){if(a.stopPropagation(),!Kb){Kb=!0;var b=Z(a),c=W(b);t(1-c)}}function y(a){a.stopPropagation(),9===a.keyCode||a.shiftKey===!0&&9===a.keyCode||$(".player-poster").hide();var b,c=db();switch(a.keyCode){case 13:u();break;case 33:b=Math.min(c/lb.duration+.1,1),f(b);break;case 34:b=Math.max(c/lb.duration-.1,0),f(b);break;case 39:b=Math.min(c+5,lb.duration),f(b/lb.duration);break;case 37:b=Math.max(c-5,0),f(b/lb.duration);break;case 38:a.stopPropagation(),a.preventDefault(),b=Math.min(c+5,lb.duration),f(b/lb.duration);break;case 40:a.stopPropagation(),a.preventDefault(),b=Math.max(c-5,0),f(b/lb.duration);break;case 36:Cb?$(".player-poster").hide():$(".player-poster").show(),f(0);break;case 35:f(1);break;case 32:u();break;case 49:f(.1);break;case 50:f(.2);break;case 51:f(.3);break;case 52:f(.4);break;case 53:f(.5);break;case 54:f(.6);break;case 55:f(.7);break;case 56:f(.8);break;case 57:f(.9);break;case 48:Cb?$(".player-poster").hide():$(".player-poster").show(),f(0)}}function z(a){9!==a.keyCode&&(a.stopPropagation(),a.preventDefault()),a.shiftKey===!0&&9===a.keyCode?$(".player-vol-button").focus():38===a.keyCode||39===a.keyCode?t(Math.min(rb.volume+.05,1)):40===a.keyCode||37===a.keyCode?t(Math.max(rb.volume-.05,0)):33===a.keyCode?t(Math.min(rb.volume+.1,1)):34===a.keyCode&&t(Math.max(rb.volume-.1,0))}function A(){Cb||$(".player-poster").show(),f(0)}function B(){$(".player-poster").hide(),f(1),l()}function C(){$(".player-poster").hide(),Jb=!0}function D(a){a.stopPropagation(),Kb=!0}function E(a){a.stopPropagation()}function F(a){a.stopPropagation()}function G(a){a.shiftKey===!0&&9===a.keyCode?(a.preventDefault(),a.stopPropagation(),$(".player-vol-slider .player-thumb").is(":visible")?$(".player-vol-slider .player-thumb").focus():$(".player-next-button").focus()):9===a.keyCode&&(a.stopPropagation(),$(".player-vol-button").focus())}function H(a){if(9===a.keyCode&&$(".player-all-controls button").addClass("accessible"),Mb){var b=!0;$(".vol-group").each(function(){document.activeElement===this&&(b=!1)}),b&&(Mb=!0,M(null))}}function I(){Jb=!1,Kb=!1}function J(){M(null)}function K(a){if(Jb){a.stopPropagation(),a.preventDefault();var b=Y(a),c=X(b);f(Math.min(c,1))}else if(Kb){a.stopPropagation(),a.preventDefault();var d=Z(a),c=W(d);t(1-Math.max(0,Math.min(1,c)))}}function L(){Lb=!Lb,Lb?(tb.show(),$(".player-CC-button").addClass("on"),$(".player-CC-button").html("Turn off closed captioning")):(tb.hide(),$(".player-CC-button").removeClass("on"),$(".player-CC-button").html("Turn on closed captioning"))}function M(){Mb?($(".player-vol-slider").animate({bottom:"-170px"},400,"swing",function(){$(".player-vol-slider").hide()}),$(document).off("mousedown",J),$(".player-vol-button").html("Show volume controls")):($(".player-vol-slider").show(),$(".player-vol-slider").animate({bottom:"40px"},400,"swing"),$(document).on("mousedown",J),setTimeout(function(){Db?$(".player-mute-button").focus():$(".player-vol-slider .player-thumb").focus()},400),$(".player-vol-button").html("Hide volume controls")),Mb=!Mb}function N(){Eb?P():O()}function O(){var a=document.activeElement===$(".player-fullscreen-button")[0];tb.hide(),mb.addClass("no-shadow"),$(".player-inner").appendTo("body"),$(".player-inner").addClass("fullscreen"),mb.css("opacity",0),$(".player-fullscreen-button").addClass("on"),$(".player-fullscreen-button").html("Restore from full screen"),Lb&&(tb.addClass("fullscreen"),tb.show()),Eb=!0,R(),a&&$(".player-fullscreen-button").focus(),eb("maximizeComplete",null,null)}function P(){var a=document.activeElement===$(".player-fullscreen-button")[0];tb.hide(),$(".player-fullscreen-button").removeClass("on"),$(".player-fullscreen-button").html("Go to full screen"),$(".player-inner").appendTo("#player-base"),$(".player-inner").removeClass("fullscreen"),mb.removeClass("no-shadow"),mb.css("opacity",1),tb.removeClass("fullscreen"),Lb&&tb.show(),Eb=!1,R(),a&&$(".player-fullscreen-button").focus(),eb("restoreComplete",null,null)}function Q(){R()}function R(){var a,b,c,d,e,f=$(window).innerWidth(),g=$(window).innerHeight();Eb?(a=Math.min(f),b=Math.min(g+6-ob.height()),c=a/yb,d=b/xb,e=Math.min(c,d)+.005,V(nb,e),nb.css("width",""),$(".player-inner").css("width","")):(a=Math.min(f+2,yb),b=Math.min(g+6-ob.height(),xb),c=a/yb,d=b/xb,e=Math.min(c,d),V(nb,e),nb.height(xb*e),nb.width(yb*c),$(".player-inner").width(yb*c),1>c?$(".player-fullscreen-button").hide():$(".player-fullscreen-button").show()),yb>f?(nb.css("margin-left",(f-yb*e)/2),nb.css("margin-right",-(f-yb*e)/2)):(nb.css("margin-left",($(".player-inner").width()-yb*e)/2),nb.css("margin-right",-($(".player-inner").width()-yb*e)/2)),S()}function S(){var a=0;$(".player-controls > button").filter(":visible").each(function(){a+=$(this).outerWidth(!0)}),$(".player-time-slider").width($(".player-inner").innerWidth()-a-Ob)}function T(a,b){a.css("-webkit-transform",b),a.css("-moz-transform",b),a.css("-o-transform",b),a.css("transform",b),a.css("-ms-transform",b)}function U(a,b){a.css("-webkit-transform-origin",b),a.css("-moz-transform-origin",b),a.css("-o-transform-origin",b),a.css("transform-origin",b),a.css("-ms-transform-origin",b)}function V(a,b,c){var d="scale("+b+", "+b+")",e=c||"top left";T(a,d),U(a,e)}function W(a){var b=(mb.offset().top,$(".player-vol-slider .player-track").offset().top),c=a-b,d=$(".player-vol-slider .player-track").height(),e=c/d;return e}function X(a){var b=(mb.offset().left,$(".player-time-slider .player-track").offset().left),c=a-b,d=$(".player-time-slider .player-track").width(),e=c/d;return e}function Y(a){return a.originalEvent.touches&&a.originalEvent.touches[0].pageX?a.originalEvent.touches[0].pageX:a.clientX?a.clientX:a.originalEvent.layerX?a.originalEvent.layerX:0}function Z(a){return a.originalEvent.touches&&a.originalEvent.touches[0].pageY?a.originalEvent.touches[0].pageY:a.pageY?a.pageY:a.clientY?a.clientY:a.originalEvent.layerY?a.originalEvent.layerY:0}function _(a,b,c){return c=c||"0",a+="",a.length>=b?a:new Array(b-a.length+1).join(c)+a}function ab(){rb=new Audio,rb.preload="auto";for(var a=0;a<lb.audio.length;a++){var b=lb.audio[a];if(-1!==b.indexOf(".ogg")){if(rb.canPlayType("audio/ogg;")){rb.src=b;break}}else if(-1!==b.indexOf(".mp3")&&rb.canPlayType("audio/mpeg;")){rb.src=b;break}}}function bb(){lb.audio&&rb.play()}function cb(){lb.audio&&rb.pause()}function db(){return lb.audio?(1e3*rb.currentTime-Ib)/1e3:Ab.getPosition()/1e3}function eb(a,b){$("#player-base").trigger(a,b)}function fb(a,b,c){$("#player-base").on(a,b,c)}function gb(a,b,c){$("#player-base").off(a,b,c)}function hb(a,b,c){$("#player-base").one(a,b,c)}function ib(a,b,c){$("#player-base").bind(a,b,c)}function jb(a,b,c){$("#player-base").unbind(a,b,c)}var kb={animation:null,duration:null,audio:null,elem:null,srt:null,poster:null,autoPlay:!1,mute:!1,showControls:!0,showTime:!1,triggerOnSync:!0,startTime:null,hidePrevButton:!1,hideNextButton:!1,hideVolButton:!1,hideCCButton:!1,hideFullScreenButton:!1,fullScreen:!1,isAdobeEdge:!0},lb=$.extend({},kb,a);if(!lb.duration)throw': Please set the htmlcontentplayer\'s "duration" property manually to the length of the audio track in seconds';if(!lb.animation)throw": Please set the htmlcontentplayer's \"animation\" property to the animation's stage";var mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab=lb.animation,Bb=Ab.getSymbolElement()||$(lb.elem)||$("#Stage"),Cb=!1,Db=!1,Eb=!1,Fb=0,Gb=!1,Hb=!1,Ib=0,Jb=!1,Kb=!1,Lb=!1,Mb=!1,Nb=.75,Ob=0,Pb=20;lb.srt&&(zb=new window.Subtitles(lb.srt)),b(),this.on=fb,this.off=gb,this.one=hb,this.bind=ib,this.unbind=jb,this.playButtonClicked=u,this.play=g,this.stop=j,this.windowResized=Q}}(),window.HtmlContentPlayer.structure='<div id="player-base"><div class="player-inner"><div class="player-content"><div class="player-alert"></div></div><div class="player-poster"></div><div class="player-subtitles"></div><div class="player-current-time"></div><div class="player-all-controls" lang="en"><div class="player-vol-slider"><div class="player-track" ><div class="player-progress"><button class="player-thumb vol-group can-hover" role="slider" aria-orientation="vertical" aria-label="Volume" aria-valuemin="0" aria-valuemax="100" /></div></div><button class="player-mute-button vol-group" >Mute</button></div><div class="player-controls"><button class="player-play-button" >Play</button><button type="button" class="player-back-button" >Player Start</button><div class="player-time-slider"><div class="player-track"><div class="player-progress"><button class="player-thumb" role="slider" aria-label="Time progress" value="Time progress"/></div></div></div><button class="player-next-button" >Player End</button><button class="player-vol-button vol-group" >Show volume controls</button><button class="player-CC-button" >Turn on closed captioning</button><button class="player-fullscreen-button" >Go to full screen</button></div></div></div></div>',function(){window.Subtitles=function(a){function b(a){if(a>i&&h>a)return j;for(var b=g.data.length-1;b>=0;b--)if(a>=g.data[b].subtitle.start&&a<=g.data[b].subtitle.end)return i=g.data[b].subtitle.start,h=g.data[b].subtitle.end,j=g.data[b].subtitle.text,g.data[b].subtitle.text}function c(a){var b,c,g,h,i,j={title:"",remote:"",data:[]},k=[],l=0,m=0;for(b=a.text.split(/(?:\r\n|\r|\n)/gm),h=f(b)+1,l=0;h>l;l++){for(i={},g=[],i.id=parseInt(b[l++],10),c=b[l++].split(/[\t ]*-->[\t ]*/),i.start=e(c[0]),m=c[1].indexOf(" "),-1!==m&&(c[1]=c[1].substr(0,m)),i.end=e(c[1]);h>l&&b[l];)g.push(b[l++]);i.text=g.join("\\N").replace(/\{(\\[\w]+\(?([\w\d]+,?)+\)?)+\}/gi,""),i.text=i.text.replace(/</g,"&lt;").replace(/>/g,"&gt;"),i.text=i.text.replace(/&lt;(\/?(font|b|u|i|s))((\s+(\w|\w[\w\-]*\w)(\s*=\s*(?:\".*?\"|'.*?'|[^'\">\s]+))?)+\s*|\s*)(\/?)&gt;/gi,"<$1$3$7>"),i.text=i.text.replace(/\\N/gi,"<br />"),k.push(d("subtitle",i))}return j.data=k,j}function d(a,b){var c={};return c[a]=b,c}function e(a){var b=a.split(":");try{var c=b[2].split(",");return 1===c.length&&(c=b[2].split(".")),3600*parseFloat(b[0],10)+60*parseFloat(b[1],10)+parseFloat(c[0],10)+parseFloat(c[1],10)/1e3}catch(d){return 0}}function f(a){for(var b=a.length-1;b>=0&&!a[b];)b--;return b}var g,h=0,i=0,j="";$.get(a,function(a){g=c({text:a})}),this.getSubtitle=b}}();